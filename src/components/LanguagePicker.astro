---
import { LANGUAGES, type Lang } from "../i18n/utils";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const currentPath = Astro.url.pathname;
---

<div class="flex items-center gap-2 text-sm">
  {Object.entries(LANGUAGES).map(([code, label]) => {
    const targetPath = currentPath.replace(`/${lang}`, `/${code}`);
    const isActive = code === lang;
    return (
      <a
        href={targetPath}
        class:list={[
          "px-2 py-1 rounded transition-colors",
          isActive ? "font-bold text-gray-900" : "text-gray-500 hover:text-gray-700",
        ]}
        aria-current={isActive ? "page" : undefined}
      >
        {code.toUpperCase()}
      </a>
    );
  })}
</div>
